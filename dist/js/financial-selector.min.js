var CONFIG={GOOGLE_CLIENT_ID:"614513768474.apps.googleusercontent.com"};angular.module("risevision.widget.common.financialSelector",[]).directive("financialSelector",["$document","$window","$log","$templateCache",function(n,e,t,a){return{restrict:"AE",scope:{instruments:"=",viewId:"@"},template:a.get("financial-selector-template.html"),link:function(e,t,a){{var i=(n[0],$(t));a.viewId||"docs"}e.openFinancialSelector=function(){var n=i.find(".financial-selector");n.modal("show")};var l=!1;google.setOnLoadCallback(function(){l=!0;var n="http://contentfinancial2-test.appspot.com/lookup/local?tq=+order+by+name+limit+50+offset+0",e=new google.visualization.Query(n,{sendMethod:"scriptInjection"});e.send(function(n){try{if(n.isError())callbackError(n.getMessage());else{var e=n.getDataTable(),t=e.getTableProperty("cursor");callbackSuccess(e,t)}}catch(a){callbackError(a.message)}})})}}}]),angular.module("risevision.widget.common.financialSelector").directive("instrumentSelector",["$templateCache",function(n){return{restrict:"E",scope:{tags:"="},template:n.get("instrument-selector-template.html"),link:function(){}}}]),angular.module("risevision.widget.common.financialSelector").directive("tagManager",["$templateCache",function(n){return{restrict:"E",scope:{tags:"="},template:n.get("tag-manager-template.html"),link:function(n,e){var t=$(e),a=t.find("input"),i=angular.element(a);n.add=function(){n.tags.push(n.new_value),n.new_value=""},n.remove=function(e){n.tags.splice(e,1)},i.bind("keypress",function(e){13==e.keyCode&&n.$apply(n.add)})}}}]),function(){try{app=angular.module("risevision.widget.common.financialSelector")}catch(n){app=angular.module("risevision.widget.common.financialSelector",[])}app.run(["$templateCache",function(n){"use strict";n.put("financial-selector-template.html",'<tag-manager class="tag-manager" tags="instruments"></tag-manager>\n\n<button class="btn btn-link btn-google" type="button" ng-click="openFinancialSelector()">Financial Selector</button>\n\n<!-- Stock selector -->\n<div class="financial-selector modal fade" tabindex="-1" role="dialog"\n  aria-hidden="true" data-backdrop="false">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button class="close" type="button" aria-hidden="true"\n          data-dismiss="modal">\n          <i class="glyphicons remove_2"></i>\n        </button>\n        <h2 class="modal-title">Instrument Selector</h2>\n      </div>\n      <div class="modal-body">\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-primary" data-dismiss="modal">\n          <span data-i18n="cancel"></span>\n          <i class="glyphicons white remove_2 icon-right"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),function(){try{app=angular.module("risevision.widget.common.financialSelector")}catch(n){app=angular.module("risevision.widget.common.financialSelector",[])}app.run(["$templateCache",function(n){"use strict";n.put("tag-manager-template.html",'<div class="tags">\n  <span ng-repeat="(idx, tag) in tags" class="label label-primary">\n    {{tag}}\n    <span class="glyphicon glyphicon-remove" ng-click="remove(idx)"></span>\n  </span>\n</div>\n<input type="text" placeholder="Add an instrument..." ng-model="new_value"></input>\n<a class="btn" ng-click="add()">Add</a>\n')}])}();